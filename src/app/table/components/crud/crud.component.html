<div class="container">

  <div class="row">
    <div class="col col-md-6 pt-4 pb-2">
        <limit-box (itemsList)="updateList($event)"></limit-box>
    </div>
  </div>

  <div class="row pt-2">
    <div class="col col-md-12">

      <!-- Tabla -->
      <table class="table table-striped table-bordered ">
        <thead >
          <tr>
            <th scope="col" class="bg-primary text-white">Nombre</th>
            <th scope="col" class="bg-primary text-white">Detalle</th>
            <th scope="col" class="bg-primary text-white">Editar</th>
            <th scope="col" class="bg-primary text-white">Eliminar</th>
          </tr>
        </thead>
        <tbody class="table-striped">
          <tr *ngFor="let pokemon of pokemonData; let i = index">
            <td>
              <input *ngIf="pokemon.onEdition; else notEdit1" [(ngModel)]="pokemon.name">
              <ng-template #notEdit1>{{ pokemon.name }}</ng-template>
            </td>
            <td>
              <button type="button"
                      class="btn btn-info btn-sm"
                      [disabled]="pokemon.onEdition"
                      (click)="pokemonDetail(pokemon.url, content)">
                <i class="fa-regular fa-eye"></i> Ver +
              </button>
            </td>
            <td>
              <button type="button"
                      class="btn btn-success btn-sm"
                      *ngIf="pokemon.onEdition; else editButton"
                      (click)="pokemonCreate(i)">
                <i class="fa-regular fa-floppy-disk"></i> Guardar
              </button>
              <ng-template #editButton>
                <button type="button"
                        class="btn btn-primary btn-sm"
                        (click)="pokemonEdit(i)">
                  <i class="fa-regular fa-pen-to-square"></i> Editar
                </button>
              </ng-template>
            </td>
            <td>
              <button type="button"
                      class="btn btn-warning btn-sm"
                      *ngIf="pokemon.onEdition; else editDelete"
                      (click)="pokemonCancel(i)">
                <i class="fa-regular fa-rectangle-xmark"></i> Cancelar
              </button>
              <ng-template #editDelete>
                <button type="button"
                        class="btn btn-danger btn-sm"
                        (click)="pokemonDelete(i)">
                  <i class="fa-regular fa-trash-can"></i> Eliminar
                </button>
              </ng-template>
            </td>
          </tr>
        </tbody>
      </table>
      <!-- Fin Tabla -->

      <!-- Paginación -->
      <div class="d-flex justify-content-center">
        <ngb-pagination
          [collectionSize]="pageTotal"
          [(page)]="pageCurrent"
          [pageSize]="pageLimit"
          [maxSize]="4"
          [rotate]="true"
          [boundaryLinks]="true"
          (pageChange)="pokemonPagination()"
        >
        </ngb-pagination>
      </div>
    </div>
  </div>
</div>

<ng-template #content let-modal>
	<div class="modal-header bg-primary">
		<h5 class="modal-title" id="modal-basic-title">Información</h5>
		<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
	</div>
	<div class="modal-body">
    {{ test }}
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('SCross click')">Cerrar</button>
	</div>
</ng-template>
